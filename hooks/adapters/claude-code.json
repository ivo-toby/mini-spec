{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",

  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "bash -c '[ -f .minispec/hooks/scripts/protect-main.sh ] && .minispec/hooks/scripts/protect-main.sh || true'",
            "timeout": 5
          }
        ]
      }
    ],

    "SessionStart": [
      {
        "hooks": [
          {
            "type": "prompt",
            "prompt": "This project uses MiniSpec safety hooks. Before running destructive git commands (reset --hard, push --force, clean -f), always ask for explicit user confirmation. Before git push, summarize what will be pushed and confirm with the user. Check .minispec/hooks/ for available safety scripts."
          }
        ]
      }
    ]
  }
}
